/*! https://github.com/leeoniya/uPlot (v1.6.24) */var uPlot=function(){"use strict";let e,l;let t="u-off",n="u-label",i="width",o="height",s="bottom",r="left",u="right",a="#000",f=a+"0",c="mousemove",h="mousedown",p="mouseup",d="mouseenter",m="mouseleave",g="dblclick",x="change",w="dppxchange",b="undefined"!=typeof window,v=b?document:null,_=b?window:null,k=b?navigator:null;function y(e,l){if(null!=l){let t=e.classList;t.contains(l)||t.add(l)}}function M(e,l){let t=e.classList;t.contains(l)&&t.remove(l)}function S(e,l,t){e.style[l]=t+"px"}function E(e,l,t,n){let i=v.createElement(e);return null!=l&&y(i,l),null!=t&&t.insertBefore(i,n),i}function D(e,l){return E("div",e,l)}let T=new WeakMap;function z(e,l,n,i,o){let s="translate("+l+"px,"+n+"px)",r=T.get(e);s!=r&&(e.style.transform=s,T.set(e,s),l<0||n<0||l>i||n>o?y(e,t):M(e,t))}let P=new WeakMap,A=new WeakMap,W={passive:!0},Y={...W,capture:!0};function C(e,l,t,n){l.addEventListener(e,t,n?Y:W)}function H(e,l,t,n){l.removeEventListener(e,t,n?Y:W)}function F(e,l,t,n){let i;t=t||0;let o=(n=n||l.length-1)<=2147483647;for(;n-t>1;)l[i=o?t+n>>1:Z((t+n)/2)]<e?t=i:n=i;return e-l[t]<=l[n]-e?t:n}function G(e,l,t,n){for(let i=1==n?l:t;i>=l&&i<=t;i+=n)if(null!=e[i])return i;return -1}function R(e,l,t,n){let i=en(e),o=en(l),s=10==t?ei:eo;e==l&&(-1==i?(e*=t,l/=t):(e/=t,l*=t));let r=1==i?Z:Q,u=1==o?Q:Z,a=r(s(X(e))),f=u(s(X(l))),c=et(t,a),h=et(t,f);return 10==t&&(a<0&&(c=e_(c,-a)),f<0&&(h=e_(h,-f))),n||2==t?(e=c*i,l=h*o):(e=ev(e,c),l=eb(l,h)),[e,l]}function I(e,l,t,n){let i=R(e,l,t,n);return 0==e&&(i[0]=0),0==l&&(i[1]=0),i}b&&function t(){let n=devicePixelRatio;e!=n&&(e=n,l&&H(x,l,t),C(x,l=matchMedia(`(min-resolution: ${e-.001}dppx) and (max-resolution: ${e+.001}dppx)`),t),_.dispatchEvent(new CustomEvent(w)))}();let L={mode:3,pad:.1},O={pad:0,soft:null,mode:0},N={min:O,max:O};function j(e,l,t,n){return eW(t)?B(e,l,t):(O.pad=t,O.soft=n?0:null,O.mode=n?3:0,B(e,l,N))}function U(e,l){return null==e?l:e}function B(e,l,t){let n=t.min,i=t.max,o=U(n.pad,0),s=U(i.pad,0),r=U(n.hard,-eu),u=U(i.hard,eu),a=U(n.soft,eu),f=U(i.soft,-eu),c=U(n.mode,0),h=U(i.mode,0),p=l-e,d=ei(p),m=el(X(e),X(l)),g=X(ei(m)-d);(p<1e-9||g>10)&&(p=0,(0==e||0==l)&&(p=1e-9,2==c&&a!=eu&&(o=0),2==h&&f!=-eu&&(s=0)));let x=p||m||1e3,w=et(10,Z(ei(x))),b=x*(0==p?0==e?.1:1:o),v=e_(ev(e-b,w/10),9),_=e>=a&&(1==c||3==c&&a>=v||2==c&&v>=a)?a:eu,k=el(r,_>v&&e>=_?_:ee(_,v)),y=x*(0==p?0==l?.1:1:s),M=e_(eb(l+y,w/10),9),S=f>=l&&(1==h||3==h&&M>=f||2==h&&f>=M)?f:-eu,E=ee(u,M>S&&S>=l?S:el(S,M));return k==E&&0==k&&(E=100),[k,E]}let V=new Intl.NumberFormat(b?k.language:"en-US"),J=e=>V.format(e),q=Math,K=q.PI,X=q.abs,Z=q.floor,$=q.round,Q=q.ceil,ee=q.min,el=q.max,et=q.pow,en=q.sign,ei=q.log10,eo=q.log2,es=(e,l=1)=>q.sinh(e)*l,er=(e,l=1)=>q.asinh(e/l),eu=1/0;function ea(e){return(0|ei((e^e>>31)-(e>>31)))+1}function ef(e,l,t){return ee(el(e,l),t)}function ec(e){return"function"==typeof e?e:()=>e}let eh=e=>e,ep=(e,l)=>l,ed=e=>null,em=e=>!0,eg=(e,l)=>e==l,ex=e=>e_(e,14);function ew(e,l){return ex(e_(ex(e/l))*l)}function eb(e,l){return ex(Q(ex(e/l))*l)}function ev(e,l){return ex(Z(ex(e/l))*l)}function e_(e,l=0){if(ez(e))return e;let t=10**l;return $(e*t*(1+Number.EPSILON))/t}let ek=new Map;function ey(e){return((""+e).split(".")[1]||"").length}function eM(e,l,t,n){let i=[],o=n.map(ey);for(let s=l;t>s;s++){let l=X(s),t=e_(et(e,s),l);for(let e=0;e<n.length;e++){let r=n[e]*t,u=(r>=0&&s>=0?0:l)+(s>=o[e]?0:o[e]),a=e_(r,u);i.push(a),ek.set(a,u)}}return i}let eS={},eE=[],eD=[null,null],eT=Array.isArray,ez=Number.isInteger,eP=e=>void 0===e;function eA(e){return"string"==typeof e}function eW(e){let l=!1;if(null!=e){let t=e.constructor;l=null==t||t==Object}return l}function eY(e){return null!=e&&"object"==typeof e}let eC=Object.getPrototypeOf(Uint8Array);function eH(e,l=eW){let t;if(eT(e)){let n=e.find(e=>null!=e);if(eT(n)||l(n)){t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=eH(e[n],l)}else t=e.slice()}else if(e instanceof eC)t=e.slice();else if(l(e))for(let n in t={},e)t[n]=eH(e[n],l);else t=e;return t}function eF(e){let l=arguments;for(let t=1;t<l.length;t++){let n=l[t];for(let l in n)eW(e[l])?eF(e[l],eH(n[l])):e[l]=eH(n[l])}return e}let eG="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,eR=["January","February","March","April","May","June","July","August","September","October","November","December"],eI=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function eL(e){return e.slice(0,3)}let eO=eI.map(eL),eN=eR.map(eL),ej={MMMM:eR,MMM:eN,WWWW:eI,WWW:eO};function eU(e){return(e<10?"0":"")+e}let eB={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,l)=>l.MMMM[e.getMonth()],MMM:(e,l)=>l.MMM[e.getMonth()],MM:e=>eU(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>eU(e.getDate()),D:e=>e.getDate(),WWWW:(e,l)=>l.WWWW[e.getDay()],WWW:(e,l)=>l.WWW[e.getDay()],HH:e=>eU(e.getHours()),H:e=>e.getHours(),h:e=>{let l=e.getHours();return 0==l?12:l>12?l-12:l},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>eU(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>eU(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>(function(e){return(e<10?"00":e<100?"0":"")+e})(e.getMilliseconds())};function eV(e,l){l=l||ej;let t=[],n=/\{([a-z]+)\}|[^{]+/gi,i;for(;i=n.exec(e);)t.push("{"==i[0][0]?eB[i[1]]:i[0]);return e=>{let n="";for(let i=0;i<t.length;i++)n+="string"==typeof t[i]?t[i]:t[i](e,l);return n}}let eJ=new Intl.DateTimeFormat().resolvedOptions().timeZone,eq=e=>e%1==0,eK=[1,2,2.5,5],eX=eM(10,-16,0,eK),eZ=eM(10,0,16,eK),e$=eZ.filter(eq),eQ=eX.concat(eZ),e0="{YYYY}",e1="\n"+e0,e2="{M}/{D}",e3="\n"+e2,e5=e3+"/{YY}",e4="{aa}",e6="{h}:{mm}"+e4,e7="\n"+e6,e8=":{ss}";function e9(e){let l=1e3*e,t=60*l,n=60*t,i=24*n,o=30*i,s=365*i,r=(1==e?eM(10,0,3,eK).filter(eq):eM(10,-3,0,eK)).concat([l,5*l,10*l,15*l,30*l,t,5*t,10*t,15*t,30*t,n,2*n,3*n,4*n,6*n,8*n,12*n,i,2*i,3*i,4*i,5*i,6*i,7*i,8*i,9*i,10*i,15*i,o,2*o,3*o,4*o,6*o,s,2*s,5*s,10*s,25*s,50*s,100*s]),u=[[s,e0,null,null,null,null,null,null,1],[28*i,"{MMM}",e1,null,null,null,null,null,1],[i,e2,e1,null,null,null,null,null,1],[n,"{h}"+e4,e5,null,e3,null,null,null,1],[t,e6,e5,null,e3,null,null,null,1],[l,e8,e5+" "+e6,null,e3+" "+e6,null,e7,null,1],[e,e8+".{fff}",e5+" "+e6,null,e3+" "+e6,null,e7,null,1]];return[r,u,function(l){return(r,u,a,f,c,h)=>{let p=[],d=c>=s,m=c>=o&&s>c,g=l(a),x=e_(g*e,3),w=lu(g.getFullYear(),d?0:g.getMonth(),m||d?1:g.getDate()),b=e_(w*e,3);if(m||d){let t=m?c/o:0,n=d?c/s:0,i=x==b?x:e_(lu(w.getFullYear()+n,w.getMonth()+t,1)*e,3),r=new Date($(i/e)),u=r.getFullYear(),a=r.getMonth();for(let o=0;i<=f;o++){let s=lu(u+n*o,a+t*o,1),r=s-l(e_(s*e,3));(i=e_((+s+r)*e,3))<=f&&p.push(i)}}else{let o=c>=i?i:c,s=b+(Z(a)-Z(x))+eb(x-b,o);p.push(s);let d=l(s),m=d.getHours()+d.getMinutes()/t+d.getSeconds()/n,g=c/n,w=h/r.axes[u]._space;for(;!((s=e_(s+c,1==e?0:3))>f);)if(g>1){let e=Z(e_(m+g,6))%24,t=l(s).getHours()-e;t>1&&(t=-1),s-=t*n,m=(m+g)%24,e_((s-p[p.length-1])/c,3)*w>=.7&&p.push(s)}else p.push(s)}return p}}]}let[le,ll,lt]=e9(1),[ln,li,lo]=e9(.001);function ls(e,l){return e.map(e=>e.map((t,n)=>0==n||8==n||null==t?t:l(1==n||0==e[8]?t:e[1]+t)))}function lr(e,l){return(t,n,i,o,s)=>{let r,u,a,f,c,h,p=l.find(e=>s>=e[0])||l[l.length-1];return n.map(l=>{let t=e(l),n=t.getFullYear(),i=t.getMonth(),o=t.getDate(),s=t.getHours(),d=t.getMinutes(),m=t.getSeconds(),g=n!=r&&p[2]||i!=u&&p[3]||o!=a&&p[4]||s!=f&&p[5]||d!=c&&p[6]||m!=h&&p[7]||p[1];return r=n,u=i,a=o,f=s,c=d,h=m,g(t)})}}function lu(e,l,t){return new Date(e,l,t)}function la(e,l){return l(e)}function lf(e,l){return(t,n,i,o)=>null==o?"--":l(e(n))}eM(2,-53,53,[1]);let lc={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,l){let t=e.series[l];return t.width?t.stroke(e,l):t.points.width?t.points.stroke(e,l):null},fill:function(e,l){return e.series[l].fill(e,l)},dash:"solid"},idx:null,idxs:null,values:[]},lh=[0,0];function lp(e,l,t){return e=>{0==e.button&&t(e)}}function ld(e,l,t){return t}let lm={show:!0,x:!0,y:!0,lock:!1,move:function(e,l,t){return lh[0]=l,lh[1]=t,lh},points:{show:function(e,l){let t=e.cursor.points,n=D(),s=t.size(e,l);S(n,i,s),S(n,o,s);let r=-(s/2);S(n,"marginLeft",r),S(n,"marginTop",r);let u=t.width(e,l,s);return u&&S(n,"borderWidth",u),n},size:function(e,l){return e.series[l].points.size},width:0,stroke:function(e,l){let t=e.series[l].points;return t._stroke||t._fill},fill:function(e,l){let t=e.series[l].points;return t._fill||t._stroke}},bind:{mousedown:lp,mouseup:lp,click:lp,dblclick:lp,mousemove:ld,mouseleave:ld,mouseenter:ld},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,l)=>{l.stopPropagation(),l.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:function(e,l,t){return t},idxs:null},lg={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},lx=eF({},lg,{filter:ep}),lw=eF({},lx,{size:10}),lb=eF({},lg,{show:!1}),lv='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',l_="bold "+lv,lk={show:!0,scale:"x",stroke:a,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:l_,side:2,grid:lx,ticks:lw,border:lb,font:lv,lineGap:1.5,rotate:0},ly={show:!0,scale:"x",auto:!1,sorted:1,min:eu,max:-eu,idxs:[]};function lM(e,l){return l.map(e=>null==e?"":J(e))}function lS(e,l,t,n,i,o,s){let r=[],u=ek.get(i)||0;t=s?t:e_(eb(t,i),u);for(let e=t;e<=n;e=e_(e+i,u))r.push(Object.is(e,-0)?0:e);return r}function lE(e,l,t,n,i){let o=[],s=e.scales[e.axes[l].scale].log,r=10==s?ei:eo,u=Z(r(t));i=et(s,u),10==s&&u<0&&(i=e_(i,-u));let a=t;do o.push(a),a+=i,10==s&&(a=e_(a,ek.get(i))),a>=i*s&&(i=a);while(a<=n);return o}function lD(e,l,t,n,i){let o=e.scales[e.axes[l].scale].asinh,s=n>o?lE(e,l,el(o,t),n,i):[o],r=n>=0&&t<=0?[0]:[];return(t<-o?lE(e,l,el(o,-n),-t,i):[o]).reverse().map(e=>-e).concat(r,s)}let lT=/./,lz=/[12357]/,lP=/[125]/,lA=/1/,lW=(e,l,t,n)=>e.map((e,i)=>4==l&&0==e||i%n==0&&t.test(e.toExponential()[0])?e:null);function lY(e,l,t){let n=e.axes[t],i=n.scale,o=e.scales[i],s=e.valToPos,r=n._space,u=s(10,i),a=s(9,i)-u>=r?lT:s(7,i)-u>=r?lz:s(5,i)-u>=r?lP:lA;if(a==lA){let e=X(s(1,i)-u);if(r>e)return lW(l.slice().reverse(),o.distr,a,Q(r/e)).reverse()}return lW(l,o.distr,a,1)}function lC(e,l,t){let n=e.axes[t],i=n.scale,o=n._space,s=e.valToPos,r=X(s(1,i)-s(2,i));return o>r?lW(l.slice().reverse(),3,lT,Q(o/r)).reverse():l}function lH(e,l,t,n){return null==n?"--":null==l?"":J(l)}let lF={show:!0,scale:"y",stroke:a,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:l_,side:3,grid:lx,ticks:lw,border:lb,font:lv,lineGap:1.5,rotate:0},lG={scale:null,auto:!0,sorted:0,min:eu,max:-eu},lR={show:!0,auto:!0,sorted:0,gaps:(e,l,t,n,i)=>i,alpha:1,facets:[eF({},lG,{scale:"x"}),eF({},lG,{scale:"y"})]},lI={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:(e,l,t,n,i)=>i,alpha:1,points:{show:function(l,t){let{scale:n,idxs:i}=l.series[0],o=l._data[0],s=l.valToPos(o[i[0]],n,!0),r=X(l.valToPos(o[i[1]],n,!0)-s)/(l.series[t].points.space*e);return i[1]-i[0]<=r},filter:null},values:null,min:eu,max:-eu,idxs:[],path:null,clip:null};function lL(e,l,t){return t/10}let lO={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},lN=eF({},lO,{time:!1,ori:1}),lj={};function lU(e){let l=lj[e];return l||(l={key:e,plots:[],sub(e){l.plots.push(e)},unsub(e){l.plots=l.plots.filter(l=>l!=e)},pub(e,t,n,i,o,s,r){for(let u=0;u<l.plots.length;u++)l.plots[u]!=t&&l.plots[u].pub(e,t,n,i,o,s,r)}},null==e||(lj[e]=l)),l}function lB(e,l,t){let n=e.mode,i=e.series[l],o=2==n?e._data[l]:e._data,s=e.scales,r=e.bbox,u=o[0],a=2==n?o[1]:o[l],f=2==n?s[i.facets[0].scale]:s[e.series[0].scale],c=2==n?s[i.facets[1].scale]:s[i.scale],h=r.left,p=r.top,d=r.width,m=r.height,g=e.valToPosH,x=e.valToPosV;return 0==f.ori?t(i,u,a,f,c,g,x,h,p,d,m,lQ,l1,l3,l4,l7):t(i,u,a,f,c,x,g,p,h,m,d,l0,l2,l5,l6,l8)}function lV(e,l){let t=0,n=0,i=U(e.bands,eE);for(let e=0;e<i.length;e++){let o=i[e];o.series[0]==l?t=o.dir:o.series[1]==l&&(1==o.dir?n|=1:n|=2)}return[t,1==n?-1:2==n?1:3==n?2:0]}function lJ(e,l,t,n,i){let o=e.mode,s=e.series[l],r=2==o?s.facets[1].scale:s.scale,u=e.scales[r];return -1==i?u.min:1==i?u.max:3==u.distr?1==u.dir?u.min:u.max:0}function lq(e,l,t,n,i,o){return lB(e,l,(e,l,s,r,u,a,f,c,h,p,d)=>{let m,g,x=e.pxRound,w=r.dir*(0==r.ori?1:-1),b=0==r.ori?l1:l2;1==w?(m=t,g=n):(m=n,g=t);let v=x(a(l[m],r,p,c)),_=x(f(s[m],u,d,h)),k=x(a(l[g],r,p,c)),y=x(f(1==o?u.max:u.min,u,d,h)),M=new Path2D(i);return b(M,k,y),b(M,v,y),b(M,v,_),M})}function lK(e,l,t,n,i,o){let s=null;if(e.length>0){s=new Path2D;let r=0==l?l3:l5,u=t;for(let l=0;l<e.length;l++){let t=e[l];if(t[1]>t[0]){let e=t[0]-u;e>0&&r(s,u,n,e,n+o),u=t[1]}}let a=t+i-u;a>0&&r(s,u,n,a,n+o)}return s}function lX(e,l,t,n,i,o,s){let r=[],u=e.length;for(let a=1==i?t:n;a>=t&&n>=a;a+=i)if(null===l[a]){let f=a,c=a;if(1==i)for(;++a<=n&&null===l[a];)c=a;else for(;--a>=t&&null===l[a];)c=a;let h=o(e[f]),p=c==f?h:o(e[c]),d=f-i;h=s<=0&&d>=0&&u>d?o(e[d]):h;let m=c+i;(p=s>=0&&m>=0&&m<u?o(e[m]):p)>=h&&r.push([h,p])}return r}function lZ(e){return 0==e?eh:1==e?$:l=>ew(l,e)}function l$(e){let l=0==e?lQ:l0,t=0==e?(e,l,t,n,i,o)=>{e.arcTo(l,t,n,i,o)}:(e,l,t,n,i,o)=>{e.arcTo(t,l,i,n,o)},n=0==e?(e,l,t,n,i)=>{e.rect(l,t,n,i)}:(e,l,t,n,i)=>{e.rect(t,l,i,n)};return(e,i,o,s,r,u=0,a=0)=>{0==u&&0==a?n(e,i,o,s,r):(u=ee(u,s/2,r/2),a=ee(a,s/2,r/2),l(e,i+u,o),t(e,i+s,o,i+s,o+r,u),t(e,i+s,o+r,i,o+r,a),t(e,i,o+r,i,o,a),t(e,i,o,i+s,o,u),e.closePath())}}let lQ=(e,l,t)=>{e.moveTo(l,t)},l0=(e,l,t)=>{e.moveTo(t,l)},l1=(e,l,t)=>{e.lineTo(l,t)},l2=(e,l,t)=>{e.lineTo(t,l)},l3=l$(0),l5=l$(1),l4=(e,l,t,n,i,o)=>{e.arc(l,t,n,i,o)},l6=(e,l,t,n,i,o)=>{e.arc(t,l,n,i,o)},l7=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(l,t,n,i,o,s)},l8=(e,l,t,n,i,o,s)=>{e.bezierCurveTo(t,l,i,n,s,o)};function l9(){return(l,t,n,i,o)=>lB(l,t,(t,s,r,u,a,f,c,h,p,d,m)=>{let g,x,{pxRound:w,points:b}=t;0==u.ori?(g=lQ,x=l4):(g=l0,x=l6);let v=e_(b.width*e,3),_=(b.size-b.width)/2*e,k=e_(2*_,3),y=new Path2D,M=new Path2D,{left:S,top:E,width:D,height:T}=l.bbox;l3(M,S-k,E-k,D+2*k,T+2*k);let z=e=>{if(null!=r[e]){let l=w(f(s[e],u,d,h)),t=w(c(r[e],a,m,p));g(y,l+_,t),x(y,l,t,_,0,2*K)}};if(o)o.forEach(z);else for(let e=n;e<=i;e++)z(e);return{stroke:v>0?y:null,fill:y,clip:M,flags:3}})}function te(e){return(l,t,n,i,o,s)=>{n!=i&&(o!=n&&s!=n&&e(l,t,n),o!=i&&s!=i&&e(l,t,i),e(l,t,s))}}let tl=te(l1),tt=te(l2);function tn(e){let l=U(e?.alignGaps,0);return(e,t,n,i)=>lB(e,t,(o,s,r,u,a,f,c,h,p,d,m)=>{let g,x,w=o.pxRound,b=e=>w(f(e,u,d,h)),v=e=>w(c(e,a,m,p));0==u.ori?(g=l1,x=tl):(g=l2,x=tt);let _=u.dir*(0==u.ori?1:-1),k={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},y=k.stroke,M=eu,S=-eu,E,D,T,z=b(s[1==_?n:i]),P=G(r,n,i,1*_),A=G(r,n,i,-1*_),W=b(s[P]),Y=b(s[A]),C=!1;for(let e=1==_?n:i;e>=n&&i>=e;e+=_){let l=b(s[e]),t=r[e];l==z?null!=t?(D=v(t),M==eu&&(g(y,l,D),E=D),M=ee(D,M),S=el(D,S)):null===t&&(C=!0):(M!=eu&&(x(y,z,M,S,E,D),T=z),null!=t?(g(y,l,D=v(t)),M=S=E=D):(M=eu,S=-eu,null===t&&(C=!0)),z=l)}M!=eu&&M!=S&&T!=z&&x(y,z,M,S,E,D);let[H,F]=lV(e,t);if(null!=o.fill||0!=H){let l=k.fill=new Path2D(y),n=v(o.fillTo(e,t,o.min,o.max,H));g(l,Y,n),g(l,W,n)}if(!o.spanGaps){let a=[];C&&a.push(...lX(s,r,n,i,_,b,l)),k.gaps=a=o.gaps(e,t,n,i,a),k.clip=lK(a,u.ori,h,p,d,m)}return 0!=F&&(k.band=2==F?[lq(e,t,n,i,y,-1),lq(e,t,n,i,y,1)]:lq(e,t,n,i,y,F)),k})}function ti(e,l,t,n,i){let o=e.length;if(o<2)return null;let s=new Path2D;if(t(s,e[0],l[0]),2==o)n(s,e[1],l[1]);else{let t=Array(o),n=Array(o-1),r=Array(o-1),u=Array(o-1);for(let t=0;t<o-1;t++)r[t]=l[t+1]-l[t],u[t]=e[t+1]-e[t],n[t]=r[t]/u[t];t[0]=n[0];for(let e=1;e<o-1;e++)0===n[e]||0===n[e-1]||n[e-1]>0!=n[e]>0?t[e]=0:(t[e]=3*(u[e-1]+u[e])/((2*u[e]+u[e-1])/n[e-1]+(u[e]+2*u[e-1])/n[e]),isFinite(t[e])||(t[e]=0));t[o-1]=n[o-2];for(let n=0;n<o-1;n++)i(s,e[n]+u[n]/3,l[n]+t[n]*u[n]/3,e[n+1]-u[n]/3,l[n+1]-t[n+1]*u[n]/3,e[n+1],l[n+1])}return s}let to=new Set;function ts(){for(let e of to)e.syncRect(!0)}b&&(C("resize",_,ts),C("scroll",_,ts,!0),C(w,_,()=>{tx.pxRatio=e}));let tr=tn(),tu=l9();function ta(e,l,t,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((e,n)=>tf(e,n,l,t))}function tf(e,l,t,n){return eF({},0==l?t:n,e)}function tc(e,l,t){return null==l?eD:[l,t]}function th(e,l,t){return null==l?eD:j(l,t,.1,!0)}function tp(e,l,t,n){return null==l?eD:R(l,t,e.scales[n].log,!1)}function td(e,l,t,n){return null==l?eD:I(l,t,e.scales[n].log,!1)}function tm(l){let t,n;return[l=l.replace(/(\d+)px/,(l,i)=>(t=$((n=+i)*e))+"px"),t,n]}function tg(l){l.show&&[l.font,l.labelFont].forEach(l=>{let t=e_(l[2]*e,1);l[0]=l[0].replace(/[0-9.]+px/,t+"px"),l[1]=t})}function tx(l,a,x){let b,k,T,W,Y,G,O,N,B,V,J,q,Z,en,eo,eh,ex,ev,eM,ez,eC,eR,eI,eL,eO,eN,ej,eU,eB,eJ,eq,eK;let eX={mode:U(l.mode,1)},eZ=eX.mode;function e0(e,l){return((3==l.distr?ei(e>0?e:l.clamp(eX,e,l.min,l.max,l.key)):4==l.distr?er(e,l.asinh):e)-l._min)/(l._max-l._min)}function e1(e,l,t,n){let i=e0(e,l);return n+t*(-1==l.dir?1-i:i)}function e2(e,l,t,n){let i=e0(e,l);return n+t*(-1==l.dir?i:1-i)}function e3(e,l,t,n){return 0==l.ori?e1(e,l,t,n):e2(e,l,t,n)}eX.valToPosH=e1,eX.valToPosV=e2;let e5=!1;eX.status=0;let e4=eX.root=D("uplot");null!=l.id&&(e4.id=l.id),y(e4,l.class),l.title&&(D("u-title",e4).textContent=l.title);let e6=E("canvas"),e7=eX.ctx=e6.getContext("2d"),e8=D("u-wrap",e4);C("click",e8,e=>{(eU!=eL||eB!=eO)&&t7.click(eX,e)},!0);let e9=eX.under=D("u-under",e8);e8.appendChild(e6);let lu=eX.over=D("u-over",e8);l=eH(l);let lh=+U(l.pxAlign,1),lp=lZ(lh);(l.plugins||[]).forEach(e=>{e.opts&&(l=e.opts(eX,l)||l)});let ld=l.ms||.001,lg=eX.series=1==eZ?ta(l.series||[],ly,lI,!1):function(e,l){return e.map((e,t)=>0==t?null:eF({},l,e))}(l.series||[null],lR),lx=eX.axes=ta(l.axes||[],lk,lF,!0),lw=eX.scales={},lb=eX.bands=l.bands||[];lb.forEach(e=>{e.fill=ec(e.fill||null),e.dir=U(e.dir,-1)});let lv=2==eZ?lg[1].facets[0].scale:lg[0].scale,l_={axes:function(){for(let l=0;l<lx.length;l++){let t,n,i=lx[l];if(!i.show||!i._show)continue;let o=i.side,a=o%2,f=i.stroke(eX,l),c=0==o||3==o?-1:1;if(i.label){let l=i.labelGap*c,r=$((i._lpos+l)*e);tV(i.labelFont[0],f,"center",2==o?"top":s),e7.save(),1==a?(t=n=0,e7.translate(r,$(tw+tv/2)),e7.rotate((3==o?-K:K)/2)):(t=$(tx+tb/2),n=r),e7.fillText(i.label,t,n),e7.restore()}let[h,p]=i._found;if(0==p)continue;let d=lw[i.scale],m=0==a?tb:tv,g=0==a?tx:tw,x=$(i.gap*e),w=i._splits,b=2==d.distr?w.map(e=>tO[e]):w,v=2==d.distr?tO[w[1]]-tO[w[0]]:h,_=i.ticks,k=i.border,y=_.show?$(_.size*e):0,M=-(i._rotate*K)/180,S=lp(i._pos*e),E=S+(y+x)*c;n=0==a?E:0,t=1==a?E:0,tV(i.font[0],f,1==i.align?r:2==i.align?u:M>0?r:M<0?u:0==a?"center":3==o?u:r,M||1==a?"middle":2==o?"top":s);let D=i.font[1]*i.lineGap,T=w.map(e=>lp(e3(e,d,m,g))),z=i._values;for(let e=0;e<z.length;e++){let l=z[e];if(null!=l){0==a?t=T[e]:n=T[e];let i=-1==(l=""+l).indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;e<i.length;e++){let l=i[e];M?(e7.save(),e7.translate(t,n+e*D),e7.rotate(M),e7.fillText(l,0,0),e7.restore()):e7.fillText(l,t,n+e*D)}}}_.show&&t0(T,_.filter(eX,b,l,p,v),a,o,S,y,e_(_.width*e,3),_.stroke(eX,l),_.dash,_.cap);let P=i.grid;P.show&&t0(T,P.filter(eX,b,l,p,v),a,0==a?2:1,0==a?tw:tx,0==a?tv:tb,e_(P.width*e,3),P.stroke(eX,l),P.dash,P.cap),k.show&&t0([S],[1],0==a?1:0,0==a?1:2,1==a?tw:tx,1==a?tv:tb,e_(k.width*e,3),k.stroke(eX,l),k.dash,k.cap)}nS("drawAxes")},series:function(){O>0&&(lg.forEach((e,l)=>{if(l>0&&e.show&&null==e._paths){let t=2==eZ?[0,a[l][0].length-1]:function(e){let l=ef(tR-1,0,O-1),t=ef(tI+1,0,O-1);for(;null==e[l]&&l>0;)l--;for(;null==e[t]&&t<O-1;)t++;return[l,t]}(a[l]);e._paths=e.paths(eX,l,t[0],t[1])}}),lg.forEach((e,l)=>{if(l>0&&e.show){ex!=e.alpha&&(e7.globalAlpha=ex=e.alpha),tq(l,!1),e._paths&&tK(l,!1);{tq(l,!0);let t=e._paths?e._paths.gaps:null,n=e.points.show(eX,l,tR,tI,t),i=e.points.filter(eX,l,n,t);(n||i)&&(e.points._paths=e.points.paths(eX,l,tR,tI,i),tK(l,!0))}1!=ex&&(e7.globalAlpha=ex=1),nS("drawSeries",l)}}))}},lT=(l.drawOrder||["axes","series"]).map(e=>l_[e]);function lz(e){let t=lw[e];if(null==t){let n=(l.scales||eS)[e]||eS;if(null!=n.from)lz(n.from),lw[e]=eF({},lw[n.from],n,{key:e});else{(t=lw[e]=eF({},e==lv?lO:lN,n)).key=e;let l=t.time,i=t.range,o=eT(i);if((e!=lv||2==eZ&&!l)&&(o&&(null==i[0]||null==i[1])&&(i={min:null==i[0]?L:{mode:1,hard:i[0],soft:i[0]},max:null==i[1]?L:{mode:1,hard:i[1],soft:i[1]}},o=!1),!o&&eW(i))){let e=i;i=(l,t,n)=>null==t?eD:j(t,n,e)}t.range=ec(i||(l?tc:e==lv?3==t.distr?tp:4==t.distr?td:tc:3==t.distr?tp:4==t.distr?td:th)),t.auto=ec(!o&&t.auto),t.clamp=ec(t.clamp||lL),t._min=t._max=null}}}for(let e in lz("x"),lz("y"),1==eZ&&lg.forEach(e=>{lz(e.scale)}),lx.forEach(e=>{lz(e.scale)}),l.scales)lz(e);let lP=lw[lv],lA=lP.distr;0==lP.ori?(y(e4,"u-hz"),b=e1,k=e2):(y(e4,"u-vt"),b=e2,k=e1);let lW={};for(let e in lw){let l=lw[e];(null!=l.min||null!=l.max)&&(lW[e]={min:l.min,max:l.max},l.min=l.max=null)}let lG=l.tzDate||(e=>new Date($(e/ld))),lj=l.fmtDate||eV,lB=1==ld?lt(lG):lo(lG),lV=lr(lG,ls(1==ld?ll:li,lj)),lq=lf(lG,la("{YYYY}-{MM}-{DD} {h}:{mm}{aa}",lj)),lK=[],lX=eX.legend=eF({},lc,l.legend),l$=lX.show,lQ=lX.markers;lX.idxs=lK,lQ.width=ec(lQ.width),lQ.dash=ec(lQ.dash),lQ.stroke=ec(lQ.stroke),lQ.fill=ec(lQ.fill);let l0=[],l1=[],l2=!1,l3={};if(lX.live){let e=lg[1]?lg[1].values:null;for(let l in G=(l2=null!=e)?e(eX,1,0):{_:0})l3[l]="--"}if(l$){if(T=E("table","u-legend",e4),Y=E("tbody",null,T),lX.mount(eX,T),l2){W=E("thead",null,T,Y);let e=E("tr",null,W);for(var l5 in E("th",null,e),G)E("th",n,e).textContent=l5}else y(T,"u-inline"),lX.live&&y(T,"u-live")}let l4={show:!0},l6={show:!1},l7=new Map;function l8(e,l,t){let n=l7.get(l)||{},i=tz.bind[e](eX,l,t);i&&(C(e,l,n[e]=i),l7.set(l,n))}function l9(e,l){let t=l7.get(l)||{};for(let n in t)(null==e||n==e)&&(H(n,l,t[n]),delete t[n]);null==e&&l7.delete(l)}let te=0,tl=0,tt=0,tn=0,ti=0,ts=0,tx=0,tw=0,tb=0,tv=0;eX.bbox={};let t_=!1,tk=!1,ty=!1,tM=!1,tS=!1,tE=!1;function tD(e,l,t){(t||e!=eX.width||l!=eX.height)&&tT(e,l),t1(!1),ty=!0,tk=!0,tz.left>=0&&(tM=tE=!0),t3()}function tT(l,t){eX.width=te=tt=l,eX.height=tl=tn=t,ti=ts=0,function(){let e=!1,l=!1,t=!1,n=!1;lx.forEach((i,o)=>{if(i.show&&i._show){let{side:o,_size:s}=i,r=s+(null!=i.label?i.labelSize:0);r>0&&(o%2?(tt-=r,3==o?(ti+=r,n=!0):t=!0):(tn-=r,0==o?(ts+=r,e=!0):l=!0))}}),tC[0]=e,tC[1]=t,tC[2]=l,tC[3]=n,tt-=tG[1]+tG[3],ti+=tG[3],tn-=tG[2]+tG[0],ts+=tG[0]}(),function(){let e=ti+tt,l=ts+tn,t=ti,n=ts;function i(i,o){switch(i){case 1:return(e+=o)-o;case 2:return(l+=o)-o;case 3:return(t-=o)+o;case 0:return(n-=o)+o}}lx.forEach((e,l)=>{if(e.show&&e._show){let l=e.side;e._pos=i(l,e._size),null!=e.label&&(e._lpos=i(l,e.labelSize))}})}();let n=eX.bbox;tx=n.left=ew(ti*e,.5),tw=n.top=ew(ts*e,.5),tb=n.width=ew(tt*e,.5),tv=n.height=ew(tn*e,.5)}eX.setSize=function({width:e,height:l}){tD(e,l)};let tz=eX.cursor=eF({},lm,{drag:{y:2==eZ}},l.cursor);{tz.idxs=lK,tz._lock=!1;let e=tz.points;e.show=ec(e.show),e.size=ec(e.size),e.stroke=ec(e.stroke),e.width=ec(e.width),e.fill=ec(e.fill)}let tP=eX.focus=eF({},l.focus||{alpha:.3},tz.focus),tA=tP.prox>=0,tW=[null];function tY(e,l){if(1==eZ||l>0){let l=1==eZ&&lw[e.scale].time,t=e.value;e.value=l?eA(t)?lf(lG,la(t,lj)):t||lq:t||lH,e.label=e.label||(l?"Time":"Value")}if(l>0){e.width=null==e.width?1:e.width,e.paths=e.paths||tr||ed,e.fillTo=ec(e.fillTo||lJ),e.pxAlign=+U(e.pxAlign,lh),e.pxRound=lZ(e.pxAlign),e.stroke=ec(e.stroke||null),e.fill=ec(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let l=function(e,l){return e_((3+2*(e||1))*l,3)}(el(1,e.width),1),t=e.points=eF({},{size:l,width:el(1,.2*l),stroke:e.stroke,space:2*l,paths:tu,_stroke:null,_fill:null},e.points);t.show=ec(t.show),t.filter=ec(t.filter),t.fill=ec(t.fill),t.stroke=ec(t.stroke),t.paths=ec(t.paths),t.pxAlign=e.pxAlign}if(l$){let i=function(e,l){if(0==l&&(l2||!lX.live||2==eZ))return eD;let i=[],o=E("tr","u-series",Y,Y.childNodes[l]);y(o,e.class),e.show||y(o,t);let s=E("th",null,o);if(lQ.show){let e=D("u-marker",s);if(l>0){let t=lQ.width(eX,l);t&&(e.style.border=t+"px "+lQ.dash(eX,l)+" "+lQ.stroke(eX,l)),e.style.background=lQ.fill(eX,l)}}let r=D(n,s);for(var u in r.textContent=e.label,l>0&&(lQ.show||(r.style.color=e.width>0?lQ.stroke(eX,l):lQ.fill(eX,l)),l8("click",s,l=>{if(tz._lock)return;let t=lg.indexOf(e);if((l.ctrlKey||l.metaKey)!=lX.isolate){let e=lg.some((e,l)=>l>0&&l!=t&&e.show);lg.forEach((l,n)=>{n>0&&ni(n,e?n==t?l4:l6:l4,!0,nD.setSeries)})}else ni(t,{show:!e.show},!0,nD.setSeries)}),tA&&l8(d,s,l=>{tz._lock||ni(lg.indexOf(e),no,!0,nD.setSeries)})),G){let e=E("td","u-value",o);e.textContent="--",i.push(e)}return[o,i]}(e,l);l0.splice(l,0,i[0]),l1.splice(l,0,i[1]),lX.values.push(null)}if(tz.show){lK.splice(l,0,null);let t=function(e,l){if(l>0){let t=tz.points.show(eX,l);if(t)return y(t,"u-cursor-pt"),y(t,e.class),z(t,-10,-10,tt,tn),lu.insertBefore(t,tW[l]),t}}(e,l);t&&tW.splice(l,0,t)}nS("addSeries",l)}eX.addSeries=function(e,l){l=null==l?lg.length:l,e=1==eZ?tf(e,l,ly,lI):tf(e,l,null,lR),lg.splice(l,0,e),tY(lg[l],l)},eX.delSeries=function(e){if(lg.splice(e,1),l$){lX.values.splice(e,1),l1.splice(e,1);let l=l0.splice(e,1)[0];l9(null,l.firstChild),l.remove()}tz.show&&(lK.splice(e,1),tW.length>1&&tW.splice(e,1)[0].remove()),nS("delSeries",e)};let tC=[!1,!1,!1,!1];function tH(e,l,t){let[n,i,o,s]=t,r=l%2,u=0;return 0==r&&(s||i)&&(u=(0!=l||n)&&(2!=l||o)?0:$(lk.size/3)),1==r&&(n||o)&&(u=(1!=l||i)&&(3!=l||s)?0:$(lF.size/2)),u}let tF=eX.padding=(l.padding||[tH,tH,tH,tH]).map(e=>ec(U(e,tH))),tG=eX._padding=tF.map((e,l)=>e(eX,l,tC,0)),tR=null,tI=null,tL=1==eZ?lg[0].idxs:null,tO=null,tN=!1;function tj(e,l){if(a=null==e?[]:eH(e,eY),2==eZ){O=0;for(let e=1;e<lg.length;e++)O+=a[e][0].length;eX.data=a=e}else if(null==a[0]&&(a[0]=[]),eX.data=a.slice(),O=(tO=a[0]).length,2==lA){a[0]=Array(O);for(let e=0;e<O;e++)a[0][e]=e}eX._data=a,t1(!0),nS("setData"),2==lA&&(ty=!0),!1!==l&&(lP.auto(eX,tN)?tU():nn(lv,lP.min,lP.max),tM=tM||tz.left>=0,tE=!0,t3())}function tU(){let e,l;tN=!0,1==eZ&&(O>0?(tR=tL[0]=0,tI=tL[1]=O-1,e=a[0][tR],l=a[0][tI],2==lA?(e=tR,l=tI):1==O&&(3==lA?[e,l]=R(e,e,lP.log,!1):4==lA?[e,l]=I(e,e,lP.log,!1):lP.time?l=e+$(86400/ld):[e,l]=j(e,l,.1,!0))):(tR=tL[0]=e=null,tI=tL[1]=l=null)),nn(lv,e,l)}function tB(e,l,t,n,i,o){e??=f,t??=eE,n??="butt",i??=f,o??="round",e!=N&&(e7.strokeStyle=N=e),i!=B&&(e7.fillStyle=B=i),l!=V&&(e7.lineWidth=V=l),o!=q&&(e7.lineJoin=q=o),n!=Z&&(e7.lineCap=Z=n),t!=J&&e7.setLineDash(J=t)}function tV(e,l,t,n){l!=B&&(e7.fillStyle=B=l),e!=en&&(e7.font=en=e),t!=eo&&(e7.textAlign=eo=t),n!=eh&&(e7.textBaseline=eh=n)}function tJ(e,l,t,n,i=0){if(n.length>0&&e.auto(eX,tN)&&(null==l||null==l.min)){let l=U(tR,0),o=U(tI,n.length-1),s=null==t.min?3==e.distr?function(e,l,t){let n=eu,i=-eu;for(let o=l;o<=t;o++){let l=e[o];null!=l&&l>0&&(l<n&&(n=l),l>i&&(i=l))}return[n==eu?1:n,i==-eu?10:i]}(n,l,o):function(e,l,t,n){let i=eu,o=-eu;if(1==n)i=e[l],o=e[t];else if(-1==n)i=e[t],o=e[l];else for(let n=l;n<=t;n++){let l=e[n];null!=l&&(l<i&&(i=l),l>o&&(o=l))}return[i,o]}(n,l,o,i):[t.min,t.max];e.min=ee(e.min,t.min=s[0]),e.max=el(e.max,t.max=s[1])}}function tq(e,l){let t=l?lg[e].points:lg[e];t._stroke=t.stroke(eX,e),t._fill=t.fill(eX,e)}function tK(l,t){let n=t?lg[l].points:lg[l],i=n._stroke,o=n._fill,{stroke:s,fill:r,clip:u,flags:f}=n._paths,c=null,h=e_(n.width*e,3),p=h%2/2;t&&null==o&&(o=h>0?"#fff":i);let d=1==n.pxAlign&&p>0;if(d&&e7.translate(p,p),!t){let l=tx,t=tw,i=tb,o=tv,s=h*e/2,{min:r,max:u,dir:a}=lw[n.scale];(1==a?n.min==r:n.max==u)&&(o+=s),(1==a?n.max==u:n.min==r)&&(t-=s,o+=s),(c=new Path2D).rect(l,t,i,o)}t?tZ(i,h,n.dash,n.cap,o,s,r,f,u):function(e,l,t,n,i,o,s,r,u,f,c){let h=!1;lb.forEach((p,d)=>{if(p.series[0]==e){let e,m=lg[p.series[1]],g=a[p.series[1]],x=(m._paths||eS).band;eT(x)&&(x=1==p.dir?x[0]:x[1]);let w=null;m.show&&x&&function(e,l,t){for(l=U(l,0),t=U(t,e.length-1);t>=l;){if(null!=e[l])return!0;l++}return!1}(g,tR,tI)?(w=p.fill(eX,d)||o,e=m._paths.clip):x=null,tZ(l,t,n,i,w,s,r,u,f,c,e,x),h=!0}}),h||tZ(l,t,n,i,o,s,r,u,f,c)}(l,i,h,n.dash,n.cap,o,s,r,f,c,u),d&&e7.translate(-p,-p)}eX.setData=tj;let tX=3;function tZ(e,l,t,n,i,o,s,r,u,a,f,c){tB(e,l,t,n,i),(u||a||c)&&(e7.save(),u&&e7.clip(u),a&&e7.clip(a)),c?(3&r)==3?(e7.clip(c),f&&e7.clip(f),tQ(i,s),t$(e,o,l)):2&r?(tQ(i,s),e7.clip(c),t$(e,o,l)):1&r&&(e7.save(),e7.clip(c),f&&e7.clip(f),tQ(i,s),e7.restore(),t$(e,o,l)):(tQ(i,s),t$(e,o,l)),(u||a||c)&&e7.restore()}function t$(e,l,t){t>0&&(l instanceof Map?l.forEach((e,l)=>{e7.strokeStyle=N=l,e7.stroke(e)}):null!=l&&e&&e7.stroke(l))}function tQ(e,l){l instanceof Map?l.forEach((e,l)=>{e7.fillStyle=B=l,e7.fill(e)}):null!=l&&e&&e7.fill(l)}function t0(e,l,t,n,i,o,s,r,u,a){let f=s%2/2;1==lh&&e7.translate(f,f),tB(r,s,u,a,r),e7.beginPath();let c,h,p,d,m=i+(0==n||3==n?-o:o);0==t?(h=i,d=m):(c=i,p=m);for(let n=0;n<e.length;n++)null!=l[n]&&(0==t?c=p=e[n]:h=d=e[n],e7.moveTo(c,h),e7.lineTo(p,d));e7.stroke(),1==lh&&e7.translate(-f,-f)}function t1(e){lg.forEach((l,t)=>{t>0&&(l._paths=null,e&&(1==eZ?(l.min=null,l.max=null):l.facets.forEach(e=>{e.min=null,e.max=null})))})}let t2=!1;function t3(){t2||(eG(t5),t2=!0)}function t5(){t_&&(function(){let e=eH(lw,eY);for(let l in e){let t=e[l],n=lW[l];if(null!=n&&null!=n.min)eF(t,n),l==lv&&t1(!0);else if(l!=lv||2==eZ){if(0==O&&null==t.from){let e=t.range(eX,null,null,l);t.min=e[0],t.max=e[1]}else t.min=eu,t.max=-eu}}if(O>0)for(let l in lg.forEach((l,t)=>{if(1==eZ){let n=l.scale,i=e[n],o=lW[n];if(0==t){let e=i.range(eX,i.min,i.max,n);i.min=e[0],i.max=e[1],tR=F(i.min,a[0]),(tI=F(i.max,a[0]))-tR>1&&(a[0][tR]<i.min&&tR++,a[0][tI]>i.max&&tI--),l.min=tO[tR],l.max=tO[tI]}else l.show&&l.auto&&tJ(i,o,l,a[t],l.sorted);l.idxs[0]=tR,l.idxs[1]=tI}else if(t>0&&l.show&&l.auto){let[n,i]=l.facets,o=n.scale,s=i.scale,[r,u]=a[t];tJ(e[o],lW[o],n,r,n.sorted),tJ(e[s],lW[s],i,u,i.sorted),l.min=i.min,l.max=i.max}}),e){let t=e[l],n=lW[l];if(null==t.from&&(null==n||null==n.min)){let e=t.range(eX,t.min==eu?null:t.min,t.max==-eu?null:t.max,l);t.min=e[0],t.max=e[1]}}for(let l in e){let t=e[l];if(null!=t.from){let n=e[t.from];if(null==n.min)t.min=t.max=null;else{let e=t.range(eX,n.min,n.max,l);t.min=e[0],t.max=e[1]}}}let l={},t=!1;for(let n in e){let i=e[n],o=lw[n];if(o.min!=i.min||o.max!=i.max){o.min=i.min,o.max=i.max;let e=o.distr;o._min=3==e?ei(o.min):4==e?er(o.min,o.asinh):o.min,o._max=3==e?ei(o.max):4==e?er(o.max,o.asinh):o.max,l[n]=t=!0}}if(t){for(let e in lg.forEach((e,t)=>{2==eZ?t>0&&l.y&&(e._paths=null):l[e.scale]&&(e._paths=null)}),l)ty=!0,nS("setScale",e);tz.show&&tz.left>=0&&(tM=tE=!0)}for(let e in lW)lW[e]=null}(),t_=!1),ty&&(function(){let e=!1,l=0;for(;!e;){let t=function(e){let l=!0;return lx.forEach((t,n)=>{if(!t.show)return;let i=lw[t.scale];if(null==i.min){t._show&&(l=!1,t._show=!1,t1(!1));return}t._show||(l=!1,t._show=!0,t1(!1));let o=t.side,{min:s,max:r}=i,[u,a]=function(e,l,t,n){let i,o=lx[e];if(n<=0)i=[0,0];else{let s=o._space=o.space(eX,e,l,t,n),r=o._incrs=o.incrs(eX,e,l,t,n,s);i=function(e,l,t,n,i){let o=el(ea(e),ea(l)),s=l-e,r=F(i/n*s,t);do{let e=t[r],l=n*e/s;if(l>=i&&o+(e<5?ek.get(e):0)<=17)return[e,l]}while(++r<t.length);return[0,0]}(l,t,r,n,s)}return o._found=i}(n,s,r,0==o%2?tt:tn);if(0==a)return;let f=2==i.distr,c=t._splits=t.splits(eX,n,s,r,u,a,f),h=2==i.distr?c.map(e=>tO[e]):c,p=2==i.distr?tO[c[1]]-tO[c[0]]:u,d=t._values=t.values(eX,t.filter(eX,h,n,a,p),n,a,p);t._rotate=2==o?t.rotate(eX,d,n,a):0;let m=t._size;t._size=Q(t.size(eX,d,n,e)),null!=m&&t._size!=m&&(l=!1)}),l}(++l),n=function(e){let l=!0;return tF.forEach((t,n)=>{let i=t(eX,n,tC,e);i!=tG[n]&&(l=!1),tG[n]=i}),l}(l);(e=3==l||t&&n)||(tT(eX.width,eX.height),tk=!0)}}(),ty=!1),tk&&(S(e9,r,ti),S(e9,"top",ts),S(e9,i,tt),S(e9,o,tn),S(lu,r,ti),S(lu,"top",ts),S(lu,i,tt),S(lu,o,tn),S(e8,i,te),S(e8,o,tl),e6.width=$(te*e),e6.height=$(tl*e),lx.forEach(({_el:e,_show:l,_size:n,_pos:i,side:o})=>{if(null!=e){if(l){let l=3===o||0===o?n:0,s=o%2==1;S(e,s?"left":"top",i-l),S(e,s?"width":"height",n),S(e,s?"top":"left",s?ts:ti),S(e,s?"height":"width",s?tn:tt),M(e,t)}else y(e,t)}}),N=B=V=q=Z=en=eo=eh=J=null,ex=1,nd(!0),nS("setSize"),tk=!1),te>0&&tl>0&&(e7.clearRect(0,0,e6.width,e6.height),nS("drawClear"),lT.forEach(e=>e()),nS("draw")),ne.show&&tS&&(nt(ne),tS=!1),tz.show&&tM&&(nh(null,!0,!1),tM=!1),lX.show&&lX.live&&tE&&(nc(),tE=!1),e5||(e5=!0,eX.status=1,nS("ready")),tN=!1,t2=!1}function t4(e,l){let t=lw[e];if(null==t.from){if(0==O){let n=t.range(eX,l.min,l.max,e);l.min=n[0],l.max=n[1]}if(l.min>l.max){let e=l.min;l.min=l.max,l.max=e}if(O>1&&null!=l.min&&null!=l.max&&l.max-l.min<1e-16)return;e==lv&&2==t.distr&&O>0&&(l.min=F(l.min,a[0]),l.max=F(l.max,a[0]),l.min==l.max&&l.max++),lW[e]=l,t_=!0,t3()}}eX.redraw=(e,l)=>{ty=l||!1,!1!==e?nn(lv,lP.min,lP.max):t3()},eX.setScale=t4;let t6=!1,t7=tz.drag,t8=t7.x,t9=t7.y;tz.show&&(tz.x&&(ev=D("u-cursor-x",lu)),tz.y&&(eM=D("u-cursor-y",lu)),0==lP.ori?(ez=ev,eC=eM):(ez=eM,eC=ev),eU=tz.left,eB=tz.top);let ne=eX.select=eF({show:!0,over:!0,left:0,width:0,top:0,height:0},l.select),nl=ne.show?D("u-select",ne.over?lu:e9):null;function nt(e,l){if(ne.show){for(let l in e)ne[l]=e[l],l in nx&&S(nl,l,e[l]);!1!==l&&nS("setSelect")}}function nn(e,l,t){t4(e,{min:l,max:t})}function ni(e,l,n,i){null!=l.focus&&function(e){if(e!=eK){let l=null==e,t=1!=tP.alpha;lg.forEach((n,i)=>{let o=l||0==i||i==e;n._focus=l?null:o,t&&function(e,l){lg[e].alpha=l,tz.show&&tW[e]&&(tW[e].style.opacity=l),l$&&l0[e]&&(l0[e].style.opacity=l)}(i,o?1:tP.alpha)}),eK=e,t&&t3()}}(e),null!=l.show&&lg.forEach((n,i)=>{i>0&&(e==i||null==e)&&(n.show=l.show,function(e){let l=lg[e],n=l$?l0[e]:null;l.show?n&&M(n,t):(n&&y(n,t),tW.length>1&&z(tW[e],-10,-10,tt,tn))}(i,l.show),nn(2==eZ?n.facets[1].scale:n.scale,null,null),t3())}),!1!==n&&nS("setSeries",e,l),i&&nP("setSeries",eX,e,l)}eX.setSelect=nt,eX.setSeries=ni,eX.addBand=function(e,l){e.fill=ec(e.fill||null),e.dir=U(e.dir,-1),l=null==l?lb.length:l,lb.splice(l,0,e)},eX.setBand=function(e,l){eF(lb[e],l)},eX.delBand=function(e){null==e?lb.length=0:lb.splice(e,1)};let no={focus:!0};function ns(l,t,n){let i=lw[t];n&&(l=l/e-(1==i.ori?ts:ti));let o=tt;1==i.ori&&(l=(o=tn)-l),-1==i.dir&&(l=o-l);let s=i._min,r=s+(i._max-s)*(l/o),u=i.distr;return 3==u?et(10,r):4==u?es(r,i.asinh):r}function nr(e,l){S(nl,r,ne.left=e),S(nl,i,ne.width=l)}function nu(e,l){S(nl,"top",ne.top=e),S(nl,o,ne.height=l)}l$&&tA&&C(m,T,e=>{tz._lock||null==eK||ni(null,no,!0,nD.setSeries)}),eX.valToIdx=e=>F(e,a[0]),eX.posToIdx=function(e,l){return F(ns(e,lv,l),a[0],tR,tI)},eX.posToVal=ns,eX.valToPos=(e,l,t)=>0==lw[l].ori?e1(e,lw[l],t?tb:tt,t?tx:0):e2(e,lw[l],t?tv:tn,t?tw:0),eX.batch=function(e){e(eX),t3()},eX.setCursor=(e,l,t)=>{eU=e.left,eB=e.top,nh(null,l,t)};let na=0==lP.ori?nr:nu,nf=1==lP.ori?nr:nu;function nc(e,l){null!=e&&(e.idxs?e.idxs.forEach((e,l)=>{lK[l]=e}):eP(e.idx)||lK.fill(e.idx),lX.idx=lK[0]);for(let e=0;e<lg.length;e++)(e>0||1==eZ&&!l2)&&function(e,l){let t,n=lg[e],i=0==e&&2==lA?tO:a[e];t=l2?n.values(eX,e,l)??l3:null==(t=n.value(eX,null==l?null:i[l],e,l))?l3:{_:t},lX.values[e]=t}(e,lK[e]);l$&&lX.live&&function(){if(l$&&lX.live)for(let e=2==eZ?1:0;e<lg.length;e++){if(0==e&&l2)continue;let l=lX.values[e],t=0;for(let n in l)l1[e][t++].firstChild.nodeValue=l[n]}}(),tE=!1,!1!==l&&nS("setLegend")}function nh(e,l,t){let n;eN=eU,ej=eB,[eU,eB]=tz.move(eX,eU,eB),tz.show&&(ez&&z(ez,$(eU),0,tt,tn),eC&&z(eC,0,$(eB),tt,tn));let i=tR>tI;eJ=eu;let o=0==lP.ori?tt:tn,s=1==lP.ori?tt:tn;if(eU<0||0==O||i){n=null;for(let e=0;e<lg.length;e++)e>0&&tW.length>1&&z(tW[e],-10,-10,tt,tn);tA&&ni(null,no,!0,null==e&&nD.setSeries),lX.live&&(lK.fill(n),tE=!0)}else{let e,l;1==eZ&&(n=F(e=ns(0==lP.ori?eU:eB,lv),a[0],tR,tI),l=b(a[0][n],lP,o,0));for(let t=2==eZ?1:0;t<lg.length;t++){let i=lg[t],r=lK[t],u=1==eZ?a[t][r]:a[t][1][r],f=tz.dataIdx(eX,t,n,e),c=1==eZ?a[t][f]:a[t][1][f];tE=tE||c!=u||f!=r,lK[t]=f;let h=eb(f==n?l:b(1==eZ?a[0][f]:a[t][0][f],lP,o,0),1);if(t>0&&i.show){let e,l,n=null==c?-10:eb(k(c,1==eZ?lw[i.scale]:lw[i.facets[1].scale],s,0),1);if(tA&&n>=0&&1==eZ){let e=X(n-eB);if(e<eJ){let l=tP.bias;if(0!=l){let n=ns(1==lP.ori?eU:eB,i.scale),o=n>=0?1:-1;o==(c>=0?1:-1)&&(1==o?1==l?c>=n:c<=n:1==l?c<=n:c>=n)&&(eJ=e,eq=t)}else eJ=e,eq=t}}if(0==lP.ori?(e=h,l=n):(e=n,l=h),tE&&tW.length>1){!function(e,l,t){let n=l+t;n!=P.get(e)&&(P.set(e,n),e.style.background=l,e.style.borderColor=t)}(tW[t],tz.points.fill(eX,t),tz.points.stroke(eX,t));let n,i,o,s,r=!0,u=tz.points.bbox;if(null!=u){r=!1;let e=u(eX,t);o=e.left,s=e.top,n=e.width,i=e.height}else o=e,s=l,n=i=tz.points.size(eX,t);!function(e,l,t,n){let i=l+""+t;i!=A.get(e)&&(A.set(e,i),e.style.height=t+"px",e.style.width=l+"px",e.style.marginLeft=n?-l/2+"px":0,e.style.marginTop=n?-t/2+"px":0)}(tW[t],n,i,r),z(tW[t],o,s,tt,tn)}}}}if(tz.idx=n,tz.left=eU,tz.top=eB,tE&&(lX.idx=n,nc()),ne.show&&t6){if(null!=e){let[l,t]=nD.scales,[n,i]=nD.match,[r,u]=e.cursor.sync.scales,a=e.cursor.drag;if(t8=a._x,t9=a._y,t8||t9){let a,f,c,h,p,{left:d,top:m,width:g,height:x}=e.select,w=e.scales[l].ori,v=e.posToVal,_=null!=l&&n(l,r),y=null!=t&&i(t,u);_&&t8?(0==w?(a=d,f=g):(a=m,f=x),c=lw[l],na(ee(h=b(v(a,r),c,o,0),p=b(v(a+f,r),c,o,0)),X(p-h))):na(0,o),y&&t9?(1==w?(a=d,f=g):(a=m,f=x),c=lw[t],nf(ee(h=k(v(a,u),c,s,0),p=k(v(a+f,u),c,s,0)),X(p-h))):nf(0,s)}else nw()}else{let e,l,t=X(eN-eR),n=X(ej-eI);if(1==lP.ori){let e=t;t=n,n=e}t8=t7.x&&t>=t7.dist,t9=t7.y&&n>=t7.dist;let i=t7.uni;null!=i?t8&&t9&&(t8=t>=i,t9=n>=i,t8||t9||(n>t?t9=!0:t8=!0)):t7.x&&t7.y&&(t8||t9)&&(t8=t9=!0),t8&&(0==lP.ori?(e=eL,l=eU):(e=eO,l=eB),na(ee(e,l),X(l-e)),t9||nf(0,s)),t9&&(1==lP.ori?(e=eL,l=eU):(e=eO,l=eB),nf(ee(e,l),X(l-e)),t8||na(0,o)),t8||t9||(na(0,0),nf(0,0))}}if(t7._x=t8,t7._y=t9,null==e){if(t){if(null!=nT){let[e,l]=nD.scales;nD.values[0]=null!=e?ns(0==lP.ori?eU:eB,e):null,nD.values[1]=null!=l?ns(1==lP.ori?eU:eB,l):null}nP(c,eX,eU,eB,tt,tn,n)}if(tA){let e=t&&nD.setSeries,l=tP.prox;null==eK?l>=eJ&&ni(eq,no,!0,e):eJ>l?ni(null,no,!0,e):eq!=eK&&ni(eq,no,!0,e)}}!1!==l&&nS("setCursor")}eX.setLegend=nc;let np=null;function nd(e){!0===e?np=null:nS("syncRect",np=lu.getBoundingClientRect())}function nm(e,l,t,n,i,o,s){!tz._lock&&(t6&&null!=e&&0==e.movementX&&0==e.movementY||(ng(e,l,t,n,i,o,s,!1,null!=e),null!=e?nh(null,!0,!0):nh(l,!0,!1)))}function ng(e,l,t,n,i,o,s,r,u){if(null==np&&nd(!1),null!=e)t=e.clientX-np.left,n=e.clientY-np.top;else{if(t<0||n<0){eU=-10,eB=-10;return}let[e,s]=nD.scales,r=l.cursor.sync,[u,a]=r.values,[f,c]=r.scales,[h,p]=nD.match,d=l.axes[0].side%2==1,m=0==lP.ori?tt:tn,g=1==lP.ori?tt:tn,x=d?n:t,w=d?t:n;if(t=null!=f?h(e,f)?e3(u,lw[e],m,0):-10:m*(x/(d?o:i)),n=null!=c?p(s,c)?e3(a,lw[s],g,0):-10:g*(w/(d?i:o)),1==lP.ori){let e=t;t=n,n=e}}u&&((t<=1||t>=tt-1)&&(t=ew(t,tt)),(n<=1||n>=tn-1)&&(n=ew(n,tn))),r?(eR=t,eI=n,[eL,eO]=tz.move(eX,t,n)):(eU=t,eB=n)}Object.defineProperty(eX,"rect",{get:()=>(null==np&&nd(),np)});let nx={width:0,height:0,left:0,top:0};function nw(){nt(nx,!1)}function nb(e,l,t,n,i,o,s){t6=!0,t8=t9=t7._x=t7._y=!1,ng(e,l,t,n,i,o,s,!0,!1),null!=e&&(l8(p,v,nv),nP(h,eX,eL,eO,tt,tn,null))}function nv(e,l,t,n,i,o,s){t6=t7._x=t7._y=!1,ng(e,l,t,n,i,o,s,!1,!0);let{left:r,top:u,width:a,height:f}=ne,c=a>0||f>0;if(c&&nt(ne),t7.setScale&&c){let e=r,l=a,t=u,n=f;if(1==lP.ori&&(e=u,l=f,t=r,n=a),t8&&nn(lv,ns(e,lv),ns(e+l,lv)),t9)for(let e in lw){let l=lw[e];e!=lv&&null==l.from&&l.min!=eu&&nn(e,ns(t+n,e),ns(t,e))}nw()}else tz.lock&&(tz._lock=!tz._lock,tz._lock||nh(null,!0,!1));null!=e&&(l9(p,v),nP(p,eX,eU,eB,tt,tn,null))}function n_(e){tU(),nw(),null!=e&&nP(g,eX,eU,eB,tt,tn,null)}function nk(){lx.forEach(tg),tD(eX.width,eX.height,!0)}C(w,_,nk);let ny={};ny.mousedown=nb,ny.mousemove=nm,ny.mouseup=nv,ny.dblclick=n_,ny.setSeries=(e,l,t,n)=>{-1!=(t=(0,nD.match[2])(eX,l,t))&&ni(t,n,!0,!1)},tz.show&&(l8(h,lu,nb),l8(c,lu,nm),l8(d,lu,nd),l8(m,lu,function(){if(!tz._lock){let e=t6;if(t6){let e,l,t=!0,n=!0;0==lP.ori?(e=t8,l=t9):(e=t9,l=t8),e&&l&&(t=10>=eU||eU>=tt-10,n=10>=eB||eB>=tn-10),e&&t&&(eU=eU<eL?0:tt),l&&n&&(eB=eB<eO?0:tn),nh(null,!0,!0),t6=!1}eU=-10,eB=-10,nh(null,!0,!0),e&&(t6=e)}}),l8(g,lu,n_),to.add(eX),eX.syncRect=nd);let nM=eX.hooks=l.hooks||{};function nS(e,l,t){e in nM&&nM[e].forEach(e=>{e.call(null,eX,l,t)})}(l.plugins||[]).forEach(e=>{for(let l in e.hooks)nM[l]=(nM[l]||[]).concat(e.hooks[l])});let nE=(e,l,t)=>t,nD=eF({key:null,setSeries:!1,filters:{pub:em,sub:em},scales:[lv,lg[1]?lg[1].scale:null],match:[eg,eg,nE],values:[null,null]},tz.sync);2==nD.match.length&&nD.match.push(nE),tz.sync=nD;let nT=nD.key,nz=lU(nT);function nP(e,l,t,n,i,o,s){nD.filters.pub(e,l,t,n,i,o,s)&&nz.pub(e,l,t,n,i,o,s)}function nA(){nS("init",l,a),tj(a||l.data,!1),lW[lv]?t4(lv,lW[lv]):tU(),tS=ne.show,tM=tE=!0,tD(l.width,l.height)}return nz.sub(eX),eX.pub=function(e,l,t,n,i,o,s){nD.filters.sub(e,l,t,n,i,o,s)&&ny[e](null,l,t,n,i,o,s)},eX.destroy=function(){nz.unsub(eX),to.delete(eX),l7.clear(),H(w,_,nk),e4.remove(),T?.remove(),nS("destroy")},lg.forEach(tY),lx.forEach(function(e,l){if(e._show=e.show,e.show){let t=e.side%2,n=lw[e.scale];null==n&&(e.scale=t?lg[1].scale:lv,n=lw[e.scale]);let i=n.time;e.size=ec(e.size),e.space=ec(e.space),e.rotate=ec(e.rotate),eT(e.incrs)&&e.incrs.forEach(e=>{ek.has(e)||ek.set(e,ey(e))}),e.incrs=ec(e.incrs||(2==n.distr?e$:i?1==ld?le:ln:eQ)),e.splits=ec(e.splits||(i&&1==n.distr?lB:3==n.distr?lE:4==n.distr?lD:lS)),e.stroke=ec(e.stroke),e.grid.stroke=ec(e.grid.stroke),e.ticks.stroke=ec(e.ticks.stroke),e.border.stroke=ec(e.border.stroke);let o=e.values;e.values=eT(o)&&!eT(o[0])?ec(o):i?eT(o)?lr(lG,ls(o,lj)):eA(o)?function(e,l){let t=eV(l);return(l,n,i,o,s)=>n.map(l=>t(e(l)))}(lG,o):o||lV:o||lM,e.filter=ec(e.filter||(n.distr>=3&&10==n.log?lY:3==n.distr&&2==n.log?lC:ep)),e.font=tm(e.font),e.labelFont=tm(e.labelFont),e._size=e.size(eX,null,l,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(tC[l]=!0,e._el=D("u-axis",e8))}}),x?x instanceof HTMLElement?(x.appendChild(e4),nA()):x(eX,nA):nA(),eX}tx.assign=eF,tx.fmtNum=J,tx.rangeNum=j,tx.rangeLog=R,tx.rangeAsinh=I,tx.orient=lB,tx.pxRatio=e,tx.join=function(e,l){let t=new Set;for(let l=0;l<e.length;l++){let n=e[l][0],i=n.length;for(let e=0;i>e;e++)t.add(n[e])}let n=[Array.from(t).sort((e,l)=>e-l)],i=n[0].length,o=new Map;for(let e=0;e<i;e++)o.set(n[0][e],e);for(let t=0;t<e.length;t++){let s=e[t],r=s[0];for(let e=1;e<s.length;e++){let u=s[e],a=Array(i).fill(void 0),f=l?l[t][e]:1,c=[];for(let e=0;e<u.length;e++){let l=u[e],t=o.get(r[e]);null===l?0!=f&&(a[t]=l,2==f&&c.push(t)):a[t]=l}(function(e,l,t){for(let n=0,i,o=-1;n<l.length;n++){let s=l[n];if(s>o){for(i=s-1;i>=0&&null==e[i];)e[i--]=null;for(i=s+1;i<t&&null==e[i];)e[o=i++]=null}}})(a,c,i),n.push(a)}}return n},tx.fmtDate=eV,tx.tzDate=function(e,l){let t;return"UTC"==l||"Etc/UTC"==l?t=new Date(+e+6e4*e.getTimezoneOffset()):l==eJ?t=e:(t=new Date(e.toLocaleString("en-US",{timeZone:l}))).setMilliseconds(e.getMilliseconds()),t},tx.sync=lU;{tx.addGap=function(e,l,t){let n=e[e.length-1];n&&n[0]==l?n[1]=t:e.push([l,t])},tx.clipGaps=lK;let l=tx.paths={points:l9};l.linear=tn,l.stepped=function(l){let t=U(l.align,1),n=U(l.ascDesc,!1),i=U(l.alignGaps,0),o=U(l.extend,!1);return(l,s,r,u)=>lB(l,s,(a,f,c,h,p,d,m,g,x,w,b)=>{let v=a.pxRound,{left:_,width:k}=l.bbox,y=e=>v(d(e,h,w,g)),M=e=>v(m(e,p,b,x)),S=0==h.ori?l1:l2,E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},D=E.stroke,T=h.dir*(0==h.ori?1:-1);r=G(c,r,u,1),u=G(c,r,u,-1);let z=M(c[1==T?r:u]),P=y(f[1==T?r:u]),A=P,W=P;o&&-1==t&&S(D,W=_,z),S(D,P,z);for(let e=1==T?r:u;e>=r&&u>=e;e+=T){let l=c[e];if(null==l)continue;let n=y(f[e]),i=M(l);1==t?S(D,n,z):S(D,A,i),S(D,n,i),z=i,A=n}let Y=A;o&&1==t&&S(D,Y=_+k,z);let[C,H]=lV(l,s);if(null!=a.fill||0!=C){let e=E.fill=new Path2D(D),t=M(a.fillTo(l,s,a.min,a.max,C));S(e,Y,t),S(e,W,t)}if(!a.spanGaps){let o=[];o.push(...lX(f,c,r,u,T,y,i));let p=a.width*e/2,d=n||1==t?p:-p,m=n||-1==t?-p:p;o.forEach(e=>{e[0]+=d,e[1]+=m}),E.gaps=o=a.gaps(l,s,r,u,o),E.clip=lK(o,h.ori,g,x,w,b)}return 0!=H&&(E.band=2==H?[lq(l,s,r,u,D,-1),lq(l,s,r,u,D,1)]:lq(l,s,r,u,D,H)),E})},l.bars=function(l){l=l||eS;let t=U(l.size,[.6,eu,1]),n=l.align||0,i=(l.gap||0)*e,o=l.radius;o=null==o?[0,0]:"number"==typeof o?[o,0]:o;let s=ec(o),r=1-t[0],u=U(t[1],eu)*e,a=U(t[2],1)*e,f=U(l.disp,eS),c=U(l.each,e=>{}),{fill:h,stroke:p}=f;return(l,t,o,d)=>lB(l,t,(m,g,x,w,b,v,_,k,y,M,S)=>{let E,D,T,z,P,A=m.pxRound;0==w.ori?[E,D]=s(l,t):[D,E]=s(l,t);let W=w.dir*(0==w.ori?1:-1),Y=b.dir*(1==b.ori?1:-1),C=0==w.ori?l3:l5,H=0==w.ori?c:(e,l,t,n,i,o,s)=>{c(e,l,t,i,n,s,o)},[F,G]=lV(l,t),R=3==b.distr?1==F?b.max:b.min:0,I=_(R,b,S,y),L=A(m.width*e),O=!1,N=null,j=null,B=null,V=null;null!=h&&(0==L||null!=p)&&(O=!0,N=h.values(l,t,o,d),j=new Map,new Set(N).forEach(e=>{null!=e&&j.set(e,new Path2D)}),L>0&&(B=p.values(l,t,o,d),V=new Map,new Set(B).forEach(e=>{null!=e&&V.set(e,new Path2D)})));let{x0:J,size:q}=f,K=!0;if(null!=J&&null!=q){g=J.values(l,t,o,d),2==J.unit&&(g=g.map(e=>l.posToVal(k+e*M,w.key,!0)));let e=q.values(l,t,o,d);z=A((z=2==q.unit?e[0]*M:v(e[0],w,M,k)-v(0,w,M,k))-L),T=1==W?-L/2:z+L/2}else{let e=M;if(g.length>1){let l=null;for(let t=0,n=1/0;t<g.length;t++)if(void 0!==x[t]){if(null!=l){let i=X(g[t]-g[l]);n>i&&(n=i,e=X(v(g[t],w,M,k)-v(g[l],w,M,k)))}l=t}}let l=e*r;z=A(ee(u,el(a,e-l))-L-i),T=(0==n?z/2:n==W?0:z)-n*W*i/2,z>e&&(K=!1)}let $={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:3};0!=G&&($.band=new Path2D,P=A(_(1==G?b.max:b.min,b,S,y)));let Q=O?null:new Path2D,et=$.band,{y0:en,y1:ei}=f,eo=null;null!=en&&null!=ei&&(x=ei.values(l,t,o,d),eo=en.values(l,t,o,d));let es=E*z,er=D*z;for(let e=1==W?o:d;e>=o&&d>=e;e+=W){let n=x[e];if(void 0===n)continue;let i=v(2!=w.distr||null!=f?g[e]:e,w,M,k),o=_(U(n,R),b,S,y);null!=eo&&null!=n&&(I=_(eo[e],b,S,y));let s=A(i-T),r=A(el(o,I)),u=A(ee(o,I)),a=r-u;if(null!=n){let i=n<0?er:es,o=n<0?es:er;O?(L>0&&null!=B[e]&&C(V.get(B[e]),s,u+Z(L/2),z,el(0,a-L),i,o),null!=N[e]&&C(j.get(N[e]),s,u+Z(L/2),z,el(0,a-L),i,o)):C(Q,s,u+Z(L/2),z,el(0,a-L),i,o),H(l,t,e,s-L/2,u,z+L,a)}0!=G&&(null!=n||K)&&(Y*G==1?(r=u,u=P):(u=r,r=P),a=r-u,C(et,s-L/2,u,z+L,el(0,a),0,0))}return L>0&&($.stroke=O?V:Q),$.fill=O?j:Q,$})},l.spline=function(e){return function(e,l){let t=U(l?.alignGaps,0);return(l,n,i,o)=>lB(l,n,(s,r,u,a,f,c,h,p,d,m,g)=>{let x,w,b,v=s.pxRound,_=e=>v(c(e,a,m,p)),k=e=>v(h(e,f,g,d));0==a.ori?(x=lQ,b=l1,w=l7):(x=l0,b=l2,w=l8);let y=a.dir*(0==a.ori?1:-1);i=G(u,i,o,1),o=G(u,i,o,-1);let M=_(r[1==y?i:o]),S=M,E=[],D=[];for(let e=1==y?i:o;e>=i&&o>=e;e+=y)if(null!=u[e]){let l=_(r[e]);E.push(S=l),D.push(k(u[e]))}let T={stroke:e(E,D,x,b,w,v),fill:null,clip:null,band:null,gaps:null,flags:1},z=T.stroke,[P,A]=lV(l,n);if(null!=s.fill||0!=P){let e=T.fill=new Path2D(z),t=k(s.fillTo(l,n,s.min,s.max,P));b(e,S,t),b(e,M,t)}if(!s.spanGaps){let e=[];e.push(...lX(r,u,i,o,y,_,t)),T.gaps=e=s.gaps(l,n,i,o,e),T.clip=lK(e,a.ori,p,d,m,g)}return 0!=A&&(T.band=2==A?[lq(l,n,i,o,z,-1),lq(l,n,i,o,z,1)]:lq(l,n,i,o,z,A)),T})}(ti,e)}}return tx}();
